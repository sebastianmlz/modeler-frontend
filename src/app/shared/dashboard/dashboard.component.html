<div class="w-full min-h-[60vh] bg-gradient-to-br from-blue-50 via-blue-100 to-blue-200 py-8">
	<div class="max-w-7xl mx-auto px-4">
		<!-- Título principal -->
		<div class="text-center mb-8">
			<h1 class="text-4xl font-bold text-blue-800 mb-2">Dashboard</h1>
			<p class="text-lg text-blue-600">Proyectos donde eres miembro</p>
		</div>

		<!-- Sección: Mis proyectos/Miembro de -->
		<div class="bg-white rounded-xl shadow-lg border border-blue-200 p-6 mb-8">
			<div class="flex items-center gap-3 mb-6">
				<i class="pi pi-users text-blue-600 text-2xl"></i>
				<h2 class="text-2xl font-bold text-blue-800">Mis proyectos / Miembro de</h2>
			</div>

			<!-- Loading state -->
			<div *ngIf="loading" class="flex items-center justify-center py-8">
				<i class="pi pi-spin pi-spinner text-blue-600 text-3xl"></i>
				<span class="ml-3 text-blue-600 font-semibold">Cargando proyectos...</span>
			</div>

			<!-- Error state -->
			<div *ngIf="error" class="text-red-500 font-semibold text-center py-8">
				<i class="pi pi-exclamation-triangle mr-2"></i>
				{{ error }}
			</div>

			<!-- Empty state -->
			<div *ngIf="!loading && !error && myProjects.length === 0" class="text-center py-8">
				<i class="pi pi-folder-open text-gray-400 text-4xl mb-3"></i>
				<p class="text-gray-500 font-semibold">No eres miembro de ningún proyecto aún</p>
			</div>

			<!-- Projects list -->
			<div *ngIf="!loading && !error && myProjects.length > 0" class="space-y-6">
				<div *ngFor="let projectData of myProjects" class="border border-gray-200 rounded-lg p-4 hover:shadow-md transition">
					<!-- Project header -->
					<div class="flex items-start justify-between mb-4">
						<div class="flex-1">
							<div class="flex items-center gap-3 mb-2">
								<i class="pi pi-folder text-yellow-400 text-xl"></i>
								<h3 class="text-xl font-bold text-blue-800">{{ projectData.project.name }}</h3>
								<span class="px-2 py-1 text-xs font-medium rounded-full" 
									  [ngClass]="{
										'bg-green-100 text-green-800': projectData.my_role === 'OWNER',
										'bg-blue-100 text-blue-800': projectData.my_role === 'EDITOR',
										'bg-gray-100 text-gray-800': projectData.my_role === 'VIEWER'
									  }">
									{{ projectData.my_role }}
								</span>
							</div>
							<div class="text-sm text-gray-600 space-y-1">
								<div>
									<i class="pi pi-key text-yellow-400 mr-2"></i>
									<span class="font-mono">{{ projectData.project.key }}</span>
								</div>
								<div>
									<i class="pi pi-building text-blue-400 mr-2"></i>
									<span>{{ projectData.project.organization.name }}</span>
								</div>
								<div *ngIf="projectData.project.organization.slug">
									<i class="pi pi-tag text-orange-400 mr-2"></i>
									<span class="font-mono text-orange-600">{{ projectData.project.organization.slug }}</span>
								</div>
								<div>
									<i class="pi pi-calendar text-green-400 mr-2"></i>
									<span>Miembro desde: {{ projectData.member_since | date:'short' }}</span>
								</div>
								<div>
									<i class="pi pi-clock text-purple-400 mr-2"></i>
									<span>Proyecto creado: {{ projectData.project.created_at | date:'short' }}</span>
								</div>
								<div>
									<i class="pi pi-sitemap text-purple-400 mr-2"></i>
									<span>{{ projectData.diagrams_count || 0 }} diagrama(s)</span>
								</div>
								<div *ngIf="projectData.project.is_private !== undefined">
									<i class="pi" [ngClass]="projectData.project.is_private ? 'pi-lock text-red-400' : 'pi-unlock text-green-400'" class="mr-2"></i>
									<span [ngClass]="projectData.project.is_private ? 'text-red-600' : 'text-green-600'">
										{{ projectData.project.is_private ? 'Privado' : 'Público' }}
									</span>
								</div>
							</div>
						</div>
						<button (click)="goToProjectDetail(projectData.project.id)" 
								class="bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded-lg font-medium transition flex items-center gap-2">
							<i class="pi pi-eye"></i>
							Ver detalle del proyecto
						</button>
					</div>

					<!-- Diagrams section -->
					<div class="border-t border-gray-100 pt-4">
						<h4 class="text-lg font-semibold text-gray-700 mb-3 flex items-center gap-2">
							<i class="pi pi-sitemap text-purple-500"></i>
							Diagramas en este proyecto ({{ projectData.diagrams_count || 0 }})
						</h4>
						<div *ngIf="projectData.diagrams && projectData.diagrams.length > 0" class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-3">
							<div *ngFor="let diagram of projectData.diagrams" 
								 class="bg-gray-50 border border-gray-200 rounded-lg p-3 hover:bg-gray-100 transition">
								<div class="flex items-start justify-between">
									<div class="flex-1 min-w-0">
										<h5 class="font-medium text-gray-900 truncate">{{ diagram.name || 'Sin nombre' }}</h5>
										<p class="text-xs text-gray-500 mt-1" *ngIf="diagram.created_by">
											Creado por: {{ diagram.created_by }}
										</p>
										<p class="text-xs text-gray-500" *ngIf="diagram.created_at">
											{{ diagram.created_at | date:'short' }}
										</p>
									</div>
									<button (click)="goToDiagramShow(diagram.id)" 
											class="bg-green-600 hover:bg-green-700 text-white px-3 py-1 rounded text-xs font-medium transition flex items-center gap-1">
										<i class="pi pi-external-link"></i>
										Ver
									</button>
								</div>
							</div>
						</div>
						<div *ngIf="!projectData.diagrams || projectData.diagrams.length === 0" class="text-center py-4">
							<i class="pi pi-inbox text-gray-400 text-2xl mb-2"></i>
							<p class="text-gray-500">No hay diagramas en este proyecto</p>
							<p class="text-xs text-gray-400 mt-1">Count: {{ projectData.diagrams_count || 0 }}</p>
						</div>
					</div>
				</div>
			</div>
		</div>

		<!-- Aquí puedes agregar más secciones del dashboard si necesitas -->
		
	</div>
</div>
